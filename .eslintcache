[{"C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\index.js":"1","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\Login.js":"2","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\Main.js":"3","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\App.js":"4","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\AdminIndex.js":"5","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\AddArticle.js":"6","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\config\\apiAdminUrl.js":"7","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\ArticleList.js":"8","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\type\\index.js":"9","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\type\\components\\AddType.js":"10","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\type\\components\\UpdateType.js":"11","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\music\\index.js":"12","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\music\\components\\AddMusic.js":"13","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\music\\components\\UpdateMusic.js":"14"},{"size":175,"mtime":1608517884689,"results":"15","hashOfConfig":"16"},{"size":3120,"mtime":1610079400344,"results":"17","hashOfConfig":"16"},{"size":653,"mtime":1608690361398,"results":"18","hashOfConfig":"16"},{"size":167,"mtime":1608517854880,"results":"19","hashOfConfig":"16"},{"size":4414,"mtime":1610588606231,"results":"20","hashOfConfig":"16"},{"size":9728,"mtime":1610094957565,"results":"21","hashOfConfig":"16"},{"size":842,"mtime":1611043600346,"results":"22","hashOfConfig":"16"},{"size":3244,"mtime":1610079389488,"results":"23","hashOfConfig":"16"},{"size":3650,"mtime":1610533942581,"results":"24","hashOfConfig":"16"},{"size":2419,"mtime":1610349742734,"results":"25","hashOfConfig":"16"},{"size":2485,"mtime":1610530798137,"results":"26","hashOfConfig":"16"},{"size":3648,"mtime":1611050619853,"results":"27","hashOfConfig":"16"},{"size":3230,"mtime":1611051652029,"results":"28","hashOfConfig":"16"},{"size":2729,"mtime":1611041129880,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1khjs7v",{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"32"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"42"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"39"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"59"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"42"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\index.js",[],["70","71"],"C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\Login.js",["72"],"import React, { useState } from 'react';\r\nimport 'antd/dist/antd.css'\r\nimport { Card, Input, Button, Form, Spin, message } from 'antd'\r\nimport '../static/css/Login.css'\r\nimport {\r\n    UserOutlined,\r\n    LockTwoTone\r\n} from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport servicePath from '../config/apiAdminUrl'\r\n\r\n\r\nfunction Login(props) {\r\n    const [form] = Form.useForm();\r\n    const [isLoading, setIsLoading] = useState(false)\r\n\r\n    const onSubmit = (value) => {\r\n        setIsLoading(true)\r\n        // 获取cookies的方法\r\n        // function getCookie(name) {\r\n        //     var arr, reg = new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\");\r\n        //     // eslint-disable-next-line no-cond-assign\r\n        //     if (arr = document.cookie.match(reg))\r\n        //         return unescape(arr[2]);\r\n        //     else\r\n        //         return null;\r\n        // }\r\n        axios({\r\n            url: servicePath.login,\r\n            method: \"POST\",\r\n            // headers: {\r\n            //     // eslint-disable-next-line no-undef\r\n            //     'x-csrf-token': getCookie(\"csrfToken\"), // 前后端不分离的情况加每次打开客户端，egg会直接在客户端的 Cookie 中写入密钥 ，密钥的 Key 就是 'scrfToken' 这个字段，所以直接获取就好了\r\n            // },\r\n            data: {\r\n                username: value.username,\r\n                password: value.password\r\n            },\r\n            // withCredentials: true\r\n        })\r\n            .then(\r\n                res => {\r\n                    setIsLoading(false)\r\n                    if (res.data.data == '登录成功') {\r\n                        console.log(res)\r\n                        localStorage.setItem('openId', res.data.openId)\r\n                        props.history.push('/index')\r\n                    } else {\r\n                        message.error('登录失败')\r\n                    }\r\n\r\n                }\r\n            )\r\n    }\r\n    return (\r\n        <div className='login-div'>\r\n            <Spin tip=\"Loading...\" spinning={isLoading}>\r\n                <Card title='登录页面' bordered={true} style={{ width: 400, textAlign: 'center' }}>\r\n                    <Form\r\n                        onFinish={onSubmit}\r\n                        form={form}\r\n                    >\r\n                        <Form.Item name=\"username\" rules={[{ required: true, message: '请输入账号' }]}>\r\n                            <Input prefix={<UserOutlined color=\"#40a9ff\" />} placeholder=\"请输入账号\" />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"password\" rules={[{ required: true, message: '请输入密码' }]}>\r\n                            <Input.Password prefix={<LockTwoTone />} placeholder=\"请输入密码\" />\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button style={{ width: '100%' }} htmlType=\"submit\" type=\"primary\">登录</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Card>\r\n            </Spin>\r\n        </div>\r\n    )\r\n}\r\nexport default Login","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\Main.js",["73","74"],"import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport Login from './Login'\r\nimport AdminIndex from './AdminIndex'\r\nimport Article from './ArticleList'\r\nimport AddArticle from './AddArticle';\r\nfunction Main() {\r\n    return (\r\n        <div>\r\n            <Router>\r\n                <Route path='/' exact component={Login} />\r\n                <Route path='/index/' component={AdminIndex} />\r\n                {/* <Route path='/index/add/' component={AddArticle}></Route>\r\n                <Route path='/index/list/' component={Article} /> */}\r\n            </Router>\r\n        </div>\r\n    )\r\n}\r\nexport default Main",["75","76"],"C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\App.js",[],["77","78"],"C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\AdminIndex.js",["79"],"C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\AddArticle.js",["80","81","82","83"],"import React, { useState, useEffect } from 'react'\r\nimport marked from 'marked'\r\nimport '../static/css/AddArticle.css'\r\nimport { Row, Col, Button, Input, Select, DatePicker, message } from 'antd'\r\nimport axios from 'axios'\r\nimport servicePath from '../config/apiAdminUrl'\r\nimport moment from 'moment'\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\n\r\nfunction AddArticle(props) {\r\n\r\n    console.log(props)\r\n\r\n    const [articleId, setArticleId] = useState(0)  // 文章的ID，如果是0说明是新增加，如果不是0，说明是修改\r\n    const [articleTitle, setArticleTitle] = useState('')   //文章标题\r\n    const [articleContent, setArticleContent] = useState('')  //markdown的编辑内容\r\n    const [markdownContent, setMarkdownContent] = useState('预览内容') //html内容\r\n    const [introducemd, setIntroducemd] = useState()            //简介的markdown内容\r\n    const [introducehtml, setIntroducehtml] = useState('等待编辑') //简介的html内容\r\n    const [showDate, setShowDate] = useState()   //发布日期\r\n    const [updateDate, setUpdateDate] = useState() //修改日志的日期\r\n    const [typeInfo, setTypeInfo] = useState([]) // 文章类别信息\r\n    const [selectedType, setSelectType] = useState() //选择的文章类别\r\n\r\n    console.log(typeInfo)\r\n\r\n    const [isLoading, setIsLoading] = useState(false)\r\n\r\n    marked.setOptions({\r\n        renderer: marked.Renderer(),\r\n        gfm: true,\r\n        pedantic: false,\r\n        sanitize: false,\r\n        tables: true,\r\n        breaks: false,\r\n        smartLists: true,\r\n        smartypants: false,\r\n    });\r\n\r\n    useEffect(() => {\r\n        fecthType();\r\n        if (props.location?.query?.record) {\r\n            let values = props.location.query.record;\r\n            console.log(values)\r\n            setArticleId(values._id)\r\n            setSelectType(values.typeId)\r\n            getArticle()\r\n        }\r\n    }, [])\r\n\r\n\r\n\r\n    const changeContent = (e) => {\r\n        setArticleContent(e.target.value)\r\n        let html = marked(e.target.value)\r\n        setMarkdownContent(html)\r\n    }\r\n\r\n    const changeIntroduce = (e) => {\r\n        setIntroducemd(e.target.value)\r\n        let html = marked(e.target.value);\r\n        setIntroducehtml(html)\r\n    }\r\n\r\n    const changeType = (value) => {\r\n        setSelectType(value)\r\n    }\r\n\r\n    const changeCreateTime = (date, dateString) => {\r\n        console.log(dateString)\r\n        setShowDate(dateString)\r\n    }\r\n\r\n    const changeArtivleTitle = (e) => {\r\n        setArticleTitle(e.target.value)\r\n    }\r\n\r\n    const getArticle = () => {\r\n        if (props.location?.query?.record) {\r\n            let values = props.location.query.record;\r\n            setArticleTitle(values.title)\r\n            setArticleContent(values.content)\r\n            let htmlContent = marked(values.content);\r\n            setIntroducehtml(htmlContent)\r\n            setIntroducemd(values.introduce)\r\n            let htmlIntroduce = marked(values.introduce);\r\n            setIntroducehtml(htmlIntroduce)\r\n            console.log(values.createTime)\r\n            setShowDate(moment(values.createTime))\r\n        }\r\n    }\r\n    console.log(showDate)\r\n    const saveArticle = () => {\r\n        setIsLoading(true)\r\n        if (!selectedType) {\r\n            message.error('请选择文章类型')\r\n            return false\r\n        } else if (!articleTitle) {\r\n            message.error('请输入文章标题')\r\n            return false\r\n        } else if (!articleContent) {\r\n            message.error('请输入文章内容')\r\n            return false\r\n        } else if (!introducemd) {\r\n            message.error('请输入简介')\r\n            return false\r\n        } else if (!showDate) {\r\n            message.error('请选择日期')\r\n            return false\r\n        }\r\n        console.log(showDate)\r\n        let dateText = moment(showDate);\r\n        console.log(dateText)\r\n        let dataProps = {}\r\n\r\n        dataProps.title = articleTitle;\r\n        dataProps.content = articleContent;\r\n        dataProps.introduce = introducemd;\r\n        dataProps.createTime = (new Date(dateText).getTime());\r\n        dataProps.typeId = selectedType;\r\n\r\n        if (articleId === 0) {\r\n            console.log(dataProps)\r\n            // dataProps.visitCount = 0\r\n            axios({\r\n                url: servicePath.saveArticle,\r\n                method: \"POST\",\r\n                data: dataProps,\r\n                // withCredentials: true\r\n            })\r\n                .then(\r\n                    res => {\r\n                        if (res.data.insertId) {\r\n                            setIsLoading(false)\r\n                            setArticleId(res.data.insertId)\r\n                            message.success('保存成功')\r\n                        } else {\r\n                            setIsLoading(false)\r\n                            message.error('保存失败')\r\n                        }\r\n                    }\r\n                )\r\n                .catch(\r\n                    error => {\r\n                        setIsLoading(false)\r\n                        console.log(JSON.stringify(error))\r\n                    }\r\n                )\r\n        } else {\r\n            dataProps._id = articleId\r\n            axios({\r\n                url: servicePath.updateArticle,\r\n                method: \"POST\",\r\n                data: dataProps,\r\n                // withCredentials: true\r\n            })\r\n                .then(\r\n                    res => {\r\n                        if (res.data.data.ok === 1) {\r\n                            setIsLoading(false)\r\n                            message.success('修改成功')\r\n                        } else {\r\n                            setIsLoading(false)\r\n                            message.error('修改失败')\r\n                        }\r\n                    }\r\n                )\r\n                .catch(\r\n                    error => {\r\n                        setIsLoading(false)\r\n                        console.log(JSON.stringify(error))\r\n                    }\r\n                )\r\n        }\r\n\r\n    }\r\n    const fecthType = async () => {\r\n        console.log(111111111111)\r\n        const resType = await axios({\r\n            url: servicePath.getType,\r\n            method: 'GET',\r\n            // withCredentials: true\r\n        })\r\n            .then(\r\n                res => {\r\n                    if (res.data.data == '没有登录') {\r\n                        localStorage.removeItem('openId')\r\n                        props.history.push('/');\r\n                    }\r\n                    return res.data.data;\r\n                }\r\n            )\r\n            .catch(\r\n                error => {\r\n                    return error\r\n                }\r\n            )\r\n        setTypeInfo(resType)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Row gutter={5}>\r\n                <Col span={18}>\r\n                    <Row gutter={10}>\r\n                        <Col span={20}>\r\n                            <Input value={articleTitle} onChange={changeArtivleTitle} placeholder=\"请输入博客标题\" size=\"large\" />\r\n                        </Col>\r\n                        <Col span={4}>\r\n                            <Select onChange={changeType} value={selectedType} placeholder=\"请选择文章类型\" size=\"large\">\r\n                                {typeInfo?.map((item, index) => {\r\n                                    return <Option value={item._id} key={index}>{item.typeName}</Option>\r\n                                })}\r\n                            </Select>\r\n                        </Col>\r\n                    </Row>\r\n                    <br />\r\n                    <Row gutter={10}>\r\n                        <Col span={12}>\r\n                            <TextArea value={articleContent} onChange={changeContent} className=\"markdown-content\" rows=\"35\" placeholder=\"请输入文章内容\" />\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <div className=\"show-html\" dangerouslySetInnerHTML={{ __html: markdownContent }}></div>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n                <Col span={6}>\r\n                    <Row>\r\n                        <Col span={24}>\r\n                            <Button size='large'>暂存文章</Button> &nbsp;\r\n                            <Button type=\"primary\" onClick={saveArticle} loading={isLoading} size='large'>发布文章</Button>\r\n                            <br />\r\n                            <Col span={24}>\r\n                                <br />\r\n                                <TextArea value={introducemd} onChange={changeIntroduce} rows={4} placeholder=\"请输入简介\" />\r\n                                <br /><br />\r\n                                <div dangerouslySetInnerHTML={{ __html: introducehtml }} className=\"introduce-html\"></div>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <div className=\"date-select\">\r\n                                    <DatePicker format=\"YYYY-MM-DD\" value={showDate ? moment(showDate) : null} onChange={changeCreateTime} placeholder=\"请输入发布日期\" size=\"large\" />\r\n                                </div>\r\n                            </Col>\r\n                            {/* <Col span={12}>\r\n                                <div className=\"date-select\">\r\n                                    <DatePicker placeholder=\"请输入修改日期\" size=\"large\"/>\r\n                                </div>\r\n                            </Col> */}\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddArticle\r\n\r\n","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\config\\apiAdminUrl.js",[],"C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\ArticleList.js",["84","85","86","87"],"import React, { useState, useEffect } from 'react'\r\nimport { Table, Row, Col, Space, Popconfirm, message } from 'antd'\r\nimport axios from 'axios'\r\nimport servicePath from '../config/apiAdminUrl'\r\nimport moment from 'moment'\r\n\r\nfunction ArticleList(props) {\r\n\r\n    const [list, setList] = useState([])\r\n\r\n    const [type, setType] = useState([])\r\n    useEffect(() => {\r\n        getArticleList();\r\n    }, [])\r\n\r\n    const getArticleList = () => {\r\n        axios({\r\n            url: servicePath.getArticle,\r\n            method: \"GET\",\r\n            // withCredentials: true\r\n        }).then(\r\n            res => {\r\n                setList(res.data.data)\r\n            }\r\n        )\r\n\r\n        axios({\r\n            url: servicePath.getType,\r\n            method: \"GET\",\r\n            // withCredentials: true\r\n        }).then(\r\n            res => {\r\n                setType(res.data.data)\r\n            }\r\n        )\r\n    }\r\n    const onDeleteConfirm = async (id) => {\r\n        console.log(id)\r\n        // , { withCredentials: true }\r\n        try {\r\n            const response = await axios(servicePath.deleteArticle + id)\r\n            console.log(response)\r\n            if (response.data?.success) {\r\n                message.success('删除成功')\r\n                getArticleList();\r\n            } else {\r\n                message.error('删除失败')\r\n            }\r\n        } catch (error) {\r\n            message.error('删除失败');\r\n            console.log(error)\r\n        }\r\n\r\n    }\r\n    const columns = [\r\n        {\r\n            title: '标题',\r\n            dataIndex: 'title',\r\n        },\r\n        {\r\n            title: '发布时间',\r\n            dataIndex: 'createTime',\r\n            render: (createTime) => {\r\n                return createTime ? moment(createTime).format('YYYY-MM-DD hh:mm') : null;\r\n            }\r\n        },\r\n        {\r\n            title: '访问次数',\r\n            dataIndex: 'visitCount'\r\n        },\r\n        {\r\n            title: '文章分类',\r\n            dataIndex: 'typeId',\r\n            render: (_, record) => {\r\n                for (let i = 0; i < type.length; i++) {\r\n                    if (type[i]._id === record.typeId) {\r\n                        return type[i].typeName\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: '操作',\r\n            dataIndex: 'options',\r\n            render: (_, record) => (\r\n                <Space>\r\n                    <Popconfirm\r\n                        title=\"要将文章删除吗？\"\r\n                        onConfirm={() => onDeleteConfirm(record._id)}\r\n                        okText=\"确定\"\r\n                        cancelText=\"取消\"\r\n                    >\r\n                        <a href=\"#\">删除</a>\r\n                    </Popconfirm>\r\n                    <a onClick={() => {\r\n                        props.history.push({\r\n                            pathname: '/index/add',\r\n                            query: {\r\n                                record\r\n                            }\r\n                        })\r\n                    }}>修改</a>\r\n                </Space>\r\n            )\r\n        }\r\n    ]\r\n    return (<Table key=\"_id\" dataSource={list} columns={columns} />)\r\n}\r\nexport default ArticleList","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\type\\index.js",["88","89","90"],"import React, { useEffect, useState } from 'react'\r\nimport { Button, Card, message, Popconfirm, Space, Table } from 'antd'\r\nimport axios from 'axios'\r\nimport servicePath from '../../config/apiAdminUrl'\r\nimport AddType from './components/AddType'\r\nimport UpdateType from './components/UpdateType'\r\n\r\nexport default () => {\r\n\r\n    const [dataSource, setDataSource] = useState([])\r\n    const [typeVisible, setTypeVisible] = useState(false)\r\n    const [typeValues, setTypeValues] = useState()\r\n    const [updatetypeVisible, setupdateTypeVisible] = useState(false)\r\n\r\n    console.log(dataSource)\r\n    useEffect(() => {\r\n        getType();\r\n    }, [])\r\n\r\n    const getType = () => {\r\n        axios({\r\n            url: servicePath.getType,\r\n            method: 'GET',\r\n        }).then((res) => {\r\n            setDataSource(res?.data?.data)\r\n        })\r\n    }\r\n\r\n    const onDelete = async (id) => {\r\n        message.loading({ content: '提交中' })\r\n        try {\r\n            const response = await axios(servicePath.deleteType + id)\r\n            if (response?.data?.data?._id) {\r\n                message.success('提交成功')\r\n            } else {\r\n                message.error('提交失败')\r\n            }\r\n        } catch (error) {\r\n            message.error('提交失败')\r\n        }\r\n        getType();\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: '名称',\r\n            dataIndex: 'typeName',\r\n        },\r\n        {\r\n            title: '排序',\r\n            dataIndex: 'sort'\r\n        },\r\n        {\r\n            title: 'icon',\r\n            dataIndex: 'icon'\r\n        },\r\n        {\r\n            title: '操作',\r\n            dataIndex: 'options',\r\n            render: (_, record) => {\r\n                return (\r\n                    <Space>\r\n                        <a onClick={() => {\r\n                            setupdateTypeVisible(true)\r\n                            setTypeValues(record)\r\n                        }}>修改</a>\r\n                        <Popconfirm\r\n                            title=\"确定要删除这个类型吗？\"\r\n                            okText=\"确定\"\r\n                            cancelText=\"取消\"\r\n                            onConfirm={() => onDelete(record._id)}\r\n                        >\r\n                            <a href=\"#\">删除</a>\r\n                        </Popconfirm>\r\n                    </Space>\r\n                )\r\n            }\r\n        }\r\n    ];\r\n    const onSuccess = () => {\r\n        setTypeVisible(false)\r\n        getType()\r\n    }\r\n    const onCancel = () => {\r\n        setTypeVisible(false)\r\n    }\r\n\r\n    const onSuccessUpdate = () => {\r\n        setupdateTypeVisible(false)\r\n        getType()\r\n    }\r\n    const onCancelUpdate = () => {\r\n        setupdateTypeVisible(false)\r\n    }\r\n    return (\r\n        <>\r\n            <Card\r\n                title=\"类型列表\"\r\n                extra={<Button type=\"primary\" onClick={() => {\r\n                    setTypeVisible(true)\r\n                }}>新建类型</Button>}\r\n            >\r\n                <Table key=\"_id\" dataSource={dataSource} columns={columns} />\r\n\r\n            </Card>\r\n            {typeVisible ?\r\n                <AddType\r\n                    visible={typeVisible}\r\n                    onSuccess={onSuccess}\r\n                    onCancel={onCancel}\r\n                /> : null\r\n            }\r\n            {updatetypeVisible ?\r\n                <UpdateType\r\n                    visible={updatetypeVisible}\r\n                    onSuccess={onSuccessUpdate}\r\n                    onCancel={onCancelUpdate}\r\n                    values={typeValues}\r\n                /> : null\r\n            }\r\n        </>\r\n    )\r\n}","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\type\\components\\AddType.js",["91"],"import React, { useState } from 'react'\r\nimport { Modal, Form, Input, InputNumber, message, Button } from 'antd'\r\nimport axios from 'axios'\r\nimport servicePath from '../../../config/apiAdminUrl';\r\n\r\n\r\nexport default (props) => {\r\n    console.log(props)\r\n    const [form] = Form.useForm();\r\n\r\n    const { onCancel, onSuccess, visible } = props;\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    const onSubmit = async (formValues) => {\r\n        setSubmitting(true)\r\n        try {\r\n            console.log(formValues)\r\n            const response = await axios({\r\n                url: servicePath.addType,\r\n                method: \"POST\",\r\n                data: formValues\r\n            })\r\n            if (response) {\r\n                message.success('保存成功')\r\n                setSubmitting(false)\r\n                onSuccess();\r\n            } else {\r\n                message.error('保存失败')\r\n            }\r\n        } catch (error) {\r\n\r\n            message.error(error)\r\n        }\r\n        setSubmitting(false)\r\n    }\r\n    return (\r\n        <Modal\r\n            visible={visible}\r\n            footer={null}\r\n            onCancel={onCancel}\r\n            title=\"添加类型\"\r\n        >\r\n            <Form\r\n                form={form}\r\n                name=\"modalUpdate\"\r\n                layout=\"horizontal\"\r\n                onFinish={onSubmit}\r\n            // form={form}\r\n            >\r\n                <Form.Item\r\n                    label=\"名称\"\r\n                    name=\"typeName\"\r\n                    rules={[{ message: '请输入名称', required: true }]}\r\n                >\r\n                    <Input placeholder=\"请输入名称\" />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"排序\"\r\n                    name=\"sort\"\r\n                    rules={[{ required: true, message: '请输入排序' }]}\r\n                >\r\n                    <InputNumber style={{ width: '100%' }} placeholder=\"请输入排序\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"icon\" name=\"icon\" rules={[{ required: true, message: '请输入icon' }]}>\r\n                    <Input placeholder=\"请输入Icon\" />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\" loading={submitting}>提交</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}",["92","93"],"C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\type\\components\\UpdateType.js",["94"],"import React, { useState } from 'react'\r\nimport { Form, Modal, Button, Input, InputNumber, message } from 'antd'\r\nimport axios from 'axios'\r\nimport servicePath from '../../../config/apiAdminUrl'\r\n\r\nexport default (props) => {\r\n    const [form] = Form.useForm();\r\n    const { values, visible, onCancel, onSuccess } = props;\r\n    console.log(values)\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    const onSubmit = async (formValues) => {\r\n        setSubmitting(true)\r\n        formValues._id = values._id;\r\n        try {\r\n            console.log(formValues)\r\n            const response = await axios({\r\n                url: servicePath.updateType,\r\n                method: \"POST\",\r\n                data: formValues\r\n            })\r\n            if (response) {\r\n                message.success('保存成功')\r\n                setSubmitting(false)\r\n                onSuccess();\r\n            } else {\r\n                message.error('保存失败')\r\n            }\r\n        } catch (error) {\r\n\r\n            message.error(error)\r\n        }\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"修改信息\"\r\n            visible={visible}\r\n            onCancel={onCancel}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                form={form}\r\n                name=\"modalUpdate\"\r\n                layout=\"horizontal\"\r\n                onFinish={onSubmit}\r\n                initialValues={{ ...values }}\r\n            >\r\n                <Form.Item\r\n                    label=\"名称\"\r\n                    name=\"typeName\"\r\n                    rules={[{ message: '请输入名称', required: true }]}\r\n                >\r\n                    <Input placeholder=\"请输入名称\" />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"排序\"\r\n                    name=\"sort\"\r\n                    rules={[{ required: true, message: '请输入排序' }]}\r\n                >\r\n                    <InputNumber style={{ width: '100%' }} placeholder=\"请输入排序\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"icon\" name=\"icon\" rules={[{ required: true, message: '请输入icon' }]}>\r\n                    <Input placeholder=\"请输入Icon\" />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\" loading={submitting}>提交</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\music\\index.js",["95","96","97"],"C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\music\\components\\AddMusic.js",["98"],"import React, { useState } from 'react'\r\nimport { Modal, Form, Input, message, Button, Upload } from 'antd'\r\nimport axios from 'axios'\r\nimport servicePath from '../../../config/apiAdminUrl';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    const { onCancel, onSuccess, visible } = props;\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    const onSubmit = async (formValues) => {\r\n        setSubmitting(true)\r\n        try {\r\n            console.log(formValues)\r\n            const response = await axios({\r\n                url: servicePath.addMusic,\r\n                method: \"POST\",\r\n                data: formValues\r\n            })\r\n            if (response) {\r\n                console.log('---------------------')\r\n                message.success('保存成功')\r\n                setSubmitting(false)\r\n                onSuccess();\r\n            } else {\r\n                message.error('保存失败')\r\n            }\r\n        } catch (error) {\r\n\r\n            message.error('保存失败')\r\n        }\r\n        setSubmitting(false)\r\n    }\r\n    return (\r\n        <Modal\r\n            visible={visible}\r\n            footer={null}\r\n            onCancel={onCancel}\r\n            title=\"添加歌曲\"\r\n        >\r\n            <Form\r\n                form={form}\r\n                name=\"modalUpdate\"\r\n                layout=\"horizontal\"\r\n                onFinish={onSubmit}\r\n            // form={form}\r\n            >\r\n                <Form.Item\r\n                    label=\"歌曲\"\r\n                    name=\"name\"\r\n                    rules={[{ message: '请输入歌曲', required: true }]}\r\n                >\r\n                    <Input placeholder=\"请输入歌曲\" />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"作者\"\r\n                    name=\"artist\"\r\n                    rules={[{ required: true, message: '请输入作者' }]}\r\n                >\r\n                    <Input placeholder=\"请输入作者\" />\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item label='图片' name=\"image\">\r\n                    <Upload\r\n                        name=\"avatar\"\r\n                        listType=\"picture-card\"\r\n                        style={{ width: 128, height: 128 }}\r\n                        className=\"avatar-uploader\"\r\n                        showUploadList={false}\r\n\r\n                        onChange={(e) => { console.log(e) }} >\r\n                        <img src=\"\" alt=\"avatar\" style={{ width: '100%' }} />\r\n                    </Upload>\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item label=\"歌曲网址\" name=\"url\" rules={[{ required: true, message: '请输入歌曲网址' }]}>\r\n                    <Input placeholder=\"请输入歌曲网址\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"歌曲图片\" name=\"cover\" rules={[{ required: true, message: '请输入歌曲图片网址' }]}>\r\n                    <Input placeholder=\"请输入歌曲图片网址\" />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\" loading={submitting}>提交</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}","C:\\Users\\Administrator\\Documents\\学习笔记\\React\\React博客\\myadmin\\src\\Pages\\music\\components\\UpdateMusic.js",["99"],{"ruleId":"100","replacedBy":"101"},{"ruleId":"102","replacedBy":"103"},{"ruleId":"104","severity":1,"message":"105","line":44,"column":39,"nodeType":"106","messageId":"107","endLine":44,"endColumn":41},{"ruleId":"108","severity":1,"message":"109","line":5,"column":8,"nodeType":"110","messageId":"111","endLine":5,"endColumn":15},{"ruleId":"108","severity":1,"message":"112","line":6,"column":8,"nodeType":"110","messageId":"111","endLine":6,"endColumn":18},{"ruleId":"100","replacedBy":"113"},{"ruleId":"102","replacedBy":"114"},{"ruleId":"100","replacedBy":"115"},{"ruleId":"102","replacedBy":"116"},{"ruleId":null,"fatal":true,"severity":2,"message":"117","line":96,"column":17},{"ruleId":"108","severity":1,"message":"118","line":23,"column":12,"nodeType":"110","messageId":"111","endLine":23,"endColumn":22},{"ruleId":"108","severity":1,"message":"119","line":23,"column":24,"nodeType":"110","messageId":"111","endLine":23,"endColumn":37},{"ruleId":"120","severity":1,"message":"121","line":51,"column":8,"nodeType":"122","endLine":51,"endColumn":10,"suggestions":"123"},{"ruleId":"104","severity":1,"message":"105","line":188,"column":39,"nodeType":"106","messageId":"107","endLine":188,"endColumn":41},{"ruleId":"108","severity":1,"message":"124","line":2,"column":17,"nodeType":"110","messageId":"111","endLine":2,"endColumn":20},{"ruleId":"108","severity":1,"message":"125","line":2,"column":22,"nodeType":"110","messageId":"111","endLine":2,"endColumn":25},{"ruleId":"126","severity":1,"message":"127","line":93,"column":25,"nodeType":"128","endLine":93,"endColumn":37},{"ruleId":"126","severity":1,"message":"129","line":95,"column":21,"nodeType":"128","endLine":102,"endColumn":24},{"ruleId":"130","severity":1,"message":"131","line":8,"column":1,"nodeType":"132","endLine":123,"endColumn":2},{"ruleId":"126","severity":1,"message":"129","line":63,"column":25,"nodeType":"128","endLine":66,"endColumn":28},{"ruleId":"126","severity":1,"message":"127","line":73,"column":29,"nodeType":"128","endLine":73,"endColumn":41},{"ruleId":"130","severity":1,"message":"131","line":7,"column":1,"nodeType":"132","endLine":73,"endColumn":2},{"ruleId":"100","replacedBy":"133"},{"ruleId":"102","replacedBy":"134"},{"ruleId":"130","severity":1,"message":"131","line":6,"column":1,"nodeType":"132","endLine":73,"endColumn":2},{"ruleId":"130","severity":1,"message":"131","line":8,"column":1,"nodeType":"132","endLine":123,"endColumn":2},{"ruleId":"126","severity":1,"message":"129","line":62,"column":25,"nodeType":"128","endLine":65,"endColumn":28},{"ruleId":"126","severity":1,"message":"127","line":72,"column":29,"nodeType":"128","endLine":72,"endColumn":41},{"ruleId":"130","severity":1,"message":"131","line":7,"column":1,"nodeType":"132","endLine":93,"endColumn":2},{"ruleId":"130","severity":1,"message":"131","line":7,"column":1,"nodeType":"132","endLine":79,"endColumn":2},"no-native-reassign",["135"],"no-negated-in-lhs",["136"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-unused-vars","'Article' is defined but never used.","Identifier","unusedVar","'AddArticle' is defined but never used.",["135"],["136"],["135"],["136"],"Parsing error: Expected corresponding JSX closing tag for <div>\n\n  94 | \n  95 |                         </div>\n> 96 |                 </Content>\n     |                 ^\n  97 |                     <Footer style={{ textAlign: 'center' }}>©2020 wangweijie blog</Footer>\n  98 |             </Layout>\n  99 |             </Layout >","'updateDate' is assigned a value but never used.","'setUpdateDate' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'fecthType', 'getArticle', and 'props.location.query.record'. Either include them or remove the dependency array.","ArrayExpression",["137"],"'Row' is defined but never used.","'Col' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration",["135"],["136"],"no-global-assign","no-unsafe-negation",{"desc":"138","fix":"139"},"Update the dependencies array to be: [fecthType, getArticle, props.location.query.record]",{"range":"140","text":"141"},[1768,1770],"[fecthType, getArticle, props.location.query.record]"]